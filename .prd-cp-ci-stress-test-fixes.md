## PRD - CI 压力测试问题修复

**需求来源**: CI 系统性压力测试发现 5 个问题（1 个中等风险 + 4 个改进建议）

**功能描述**: 修复 CI 压力测试中发现的安全和可维护性问题

**问题清单**:
1. **P1 - 分支保护状态无法通过 API 验证**: `gh api` 返回 404，无法确认 `enforce_admins` 是否启用
2. **P2 - 白名单过期检查缺失**: `ci/known-failures.json` 的 `expires` 字段只检查存在，不验证是否过期
3. **P2 - Config 监控文件不全**: CRITICAL_CONFIGS 只包含 3 个文件，缺少 package.json, hooks/*, skills/* 等
4. **P2 - Gate 文件过期场景无测试**: 缺少时间旅行测试验证 30 分钟过期逻辑
5. **P2 - back-merge workflow 失败率高**: 62.5% 失败率制造日志噪音

**涉及文件**:
- `ci/known-failures.json` - 添加过期日期校验
- `.github/workflows/ci.yml` - 扩展 CRITICAL_CONFIGS 列表
- `tests/gate/gate-expiry.test.ts` - 新增 Gate 过期测试
- `scripts/devgate/check-branch-protection.sh` - 新增分支保护验证脚本
- `.github/workflows/back-merge-main-to-develop.yml` - 优化触发条件

**成功标准**:
1. ✅ CI 拒绝使用已过期的 known-failures 条目（expires < 当前日期）
2. ✅ Config Audit 监控范围扩展到 package.json, .claude/settings.json, hooks/*, skills/*
3. ✅ Gate 过期测试用例覆盖 30 分钟过期逻辑（使用 Mock 时间戳）
4. ✅ 提供分支保护验证脚本（手动运行，生成报告）
5. ✅ back-merge workflow 触发条件优化（减少不必要触发）
6. ✅ npm run qa 通过，CI 通过

**非目标**:
- ❌ 不修改 Gate 签名算法（v3 已经足够安全）
- ❌ 不修改 Evidence SHA 校验机制（已完善）
- ❌ 不修改快速检查并行逻辑（已优化）
- ❌ 不修改分支保护配置本身（只验证）

**优先级**: P1（分支保护验证）+ P2（其他 4 项）

**预计影响**:
- CI 安全性提升（防止过期白名单、扩大监控范围）
- 可测试性提升（Gate 过期测试覆盖）
- 日志噪音减少（优化 back-merge 触发）
- 分支保护透明度提升（验证脚本）
