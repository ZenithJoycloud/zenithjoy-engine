# Definition of Done

## PRD
.prd-qa-audit-refactor.md

QA: docs/QA-DECISION.md

## 验收清单

### 功能验收

#### Scripts（可执行工具）
- [ ] scripts/qa/risk-score.js 实现并可运行
  Test: manual:执行_risk-score_输出JSON
- [ ] scripts/qa/detect-scope.js 实现并可运行
  Test: manual:执行_detect-scope_输出范围
- [ ] scripts/qa/detect-forbidden.js 实现并可运行
  Test: manual:执行_detect-forbidden_输出禁区
- [ ] scripts/audit/compare-scope.js 实现并可运行
  Test: manual:执行_compare-scope_对比结果
- [ ] scripts/audit/check-forbidden.js 实现并可运行
  Test: manual:执行_check-forbidden_检查结果
- [ ] scripts/audit/check-proof.js 实现并可运行
  Test: manual:执行_check-proof_验证结果
- [ ] scripts/audit/generate-report.js 实现并可运行
  Test: manual:执行_generate-report_生成报告

#### Templates（结构化模板）
- [ ] templates/QA-DECISION.md 创建结构化模板
  Test: manual:检查模板格式
- [ ] templates/AUDIT-REPORT.md 创建结构化模板
  Test: manual:检查模板格式

#### Skills（AI 手册更新）
- [ ] skills/qa/SKILL.md 更新为包含 RISK SCORE
  Test: manual:检查_RISK_SCORE_章节
- [ ] skills/audit/SKILL.md 更新为结构化验证
  Test: manual:检查_验证流程_章节

#### 集成测试
- [ ] risk-score.js 在真实 diff 上测试正确
  Test: manual:测试5个真实PR
- [ ] compare-scope.js 可正确对比范围
  Test: manual:测试允许和禁止场景

### 版本更新
- [ ] package.json 版本号更新到 11.0.0
  Test: manual:检查版本号
- [ ] CHANGELOG.md 记录重大变更
  Test: manual:检查changelog条目
- [ ] feature-registry.yml 更新
  Test: manual:检查registry版本

## 产物

- scripts/qa/*.js (3 files)
- scripts/audit/*.js (4 files)
- templates/*.md (2 files)
- skills/qa/SKILL.md (updated)
- skills/audit/SKILL.md (updated)
- package.json (updated)
- CHANGELOG.md (updated)
- feature-registry.yml (updated)
- docs/QA-DECISION.md
- docs/AUDIT-REPORT.md
