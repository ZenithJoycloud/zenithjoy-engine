# DoD - /dev 自动启用 Ralph Loop + 解决循环死锁问题

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收

- [x] /dev 在 Step 7 自动启动 Ralph Loop
      Test: manual:执行/dev观察日志中是否自动调用RalphLoop

- [x] Ralph Loop max-iterations=20
      Test: manual:检查命令参数

- [x] p1 阶段自动启动 Ralph Loop
      Test: manual:触发CI失败观察行为

- [x] SHA 不匹配问题解决（一次性提交）
      Test: manual:完整流程CI通过

- [x] 版本号自动更新（feat/fix/feat!）
      Test: manual:检查package.json自动更新

- [x] CHANGELOG 自动更新
      Test: manual:检查CHANGELOG新增条目

- [x] hook-core/VERSION 自动更新
      Test: manual:检查VERSION文件同步

- [x] Registry 自动更新（改核心文件时）
      Test: manual:改hooks/确认registry更新

- [x] 派生视图自动生成
      Test: manual:确认docs/paths/更新

- [x] DoD 格式自动修复
      Test: manual:故意错误格式确认修复

- [x] CI SHA 检查支持单 commit
      Test: manual:CI通过验证

- [x] 端到端测试：/dev → Loop → PR → CI pass → merge
      Test: manual:完整流程测试

### 测试验收

- [x] npm run qa 通过
      Test: contract:C2-001
